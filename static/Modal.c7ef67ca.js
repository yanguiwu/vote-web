import{g as C}from"./staff.bf4a4e79.js";import{c as v}from"./department.82777549.js";import{h as k,r as g,t as w,P as y,k as i,l as V,q as D,D as s,z as S,C as a,O as f,L as $,U as B,g as E}from"./element-plus.b05a9d59.js";import{_ as j}from"./index.b1bc12a8.js";var h;(function(e){e[e.online=0]="online",e[e.offline=1]="offline"})(h||(h={}));var p;(function(e){e[e.add=1]="add",e[e.remove=2]="remove"})(p||(p={}));const N=k({props:{modelValue:{type:Boolean,default:!1},info:{type:Object,default:()=>({})}},emits:["update:modelValue","ok","get-view"],setup(e,n){let r=g(),l=g([]);const{info:c}=w(e),{proxy:d}=E(),t=o=>{if(o.length>1){d.$refs.table.clearSelection();let b=o.pop();d.$refs.table.toggleRowSelection(b),l.value=[b]}else l.value=o;console.log("multipleSelection",l.value)};y(async()=>{let o=await C({status:0});r.value=o.data.body});const u=()=>{d.$refs.table.clearSelection(),n.emit("update:modelValue",!1)};return{listData:r,multipleSelection:l,handleClose:u,handleOk:async()=>{if(!l.value.length){B.warning("\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u5458\u5DE5\uFF01");return}c.value.id&&(await v({departmentId:c.value.id,userId:l.value[0].id,status:p.add}),n.emit("get-view")),n.emit("ok",l.value),u()},handleSelectionChange:t}}}),O={class:"dialog-footer"},M=f("\u53D6 \u6D88"),A=f("\u786E \u5B9A");function F(e,n,r,l,c,d){const t=i("el-table-column"),m=i("el-table"),u=i("el-button"),_=i("el-dialog");return V(),D(_,{modelValue:e.modelValue,"onUpdate:modelValue":n[0]||(n[0]=o=>e.modelValue=o),title:"\u63D0\u793A",width:"50%","before-close":e.handleClose},{footer:s(()=>[S("span",O,[a(u,{onClick:e.handleClose},{default:s(()=>[M]),_:1},8,["onClick"]),a(u,{type:"primary",onClick:e.handleOk},{default:s(()=>[A]),_:1},8,["onClick"])])]),default:s(()=>[a(m,{ref:"table",data:e.listData,border:"",onSelectionChange:e.handleSelectionChange},{default:s(()=>[a(t,{type:"selection",width:"55"}),a(t,{prop:"userName",label:"\u59D3\u540D"}),a(t,{prop:"mobile",label:"\u624B\u673A\u53F7\u7801"}),a(t,{prop:"departmentName",label:"\u90E8\u95E8"}),a(t,{prop:"roleNames",label:"\u89D2\u8272"}),a(t,{label:"\u6027\u522B"},{default:s(o=>[f($(o.row.gender),1)]),_:1})]),_:1},8,["data","onSelectionChange"])]),_:1},8,["modelValue","before-close"])}var L=j(N,[["render",F]]),T=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L});export{h as D,L as M,p as a,T as b};
