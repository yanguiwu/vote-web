var C=Object.defineProperty;var v=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var k=(e,n,o)=>n in e?C(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,f=(e,n)=>{for(var o in n||(n={}))N.call(n,o)&&k(e,o,n[o]);if(v)for(var o of v(n))g.call(n,o)&&k(e,o,n[o]);return e};import{g as O,a as j}from"./role.a9084c59.js";import E from"./Info.199daafc.js";import I from"./Table.5a67153d.js";import B from"./Drawer.dc3ac94f.js";import G from"./DrawerMenus.6f5d39c9.js";import{_ as S}from"./index.b1bc12a8.js";import{h as T,k as a,l as y,y as A,C as t,D as s,z as M,q as L,B as R,r as d,P as $,O as K}from"./element-plus.b05a9d59.js";import"./util.43d19722.js";const P=()=>{const e={children:"depaSub",label:"name"},n=d([]),o=d({id:0}),w=d([]),c=d(!1),u=d({}),p=d(!1),i=async()=>{let l=await O(o.value.id);w.value=l.data.body},m=async()=>{n.value=[];let r=(await j()).data.body;r.length&&(o.value.id||(o.value=f({},r[0])),i()),n.value=r};return $(m),{treeDefaultProps:e,treeData:n,currentNodeKey:o,currentListData:w,drawerVisible:c,drawerMenusVisible:p,drawerInfo:u,handleNodeClick:l=>{o.value=f({},l),i()},handleOpenAdd:()=>{c.value=!0,u.value={}},onOpenEdit:()=>{c.value=!0,u.value=o.value},onOpenMenus:()=>{p.value=!0,u.value=o.value},onGetView:()=>{m()}}},U=T({components:{Info:E,Table:I,Drawer:B,DrawerMenus:G},setup(){return f({},P())}}),q={class:"justify-between"},z=M("span",null,"\u89D2\u8272\u5217\u8868",-1),F=K("\u6DFB\u52A0\u89D2\u8272");function H(e,n,o,w,c,u){const p=a("el-button"),i=a("el-tree"),m=a("el-card"),_=a("el-col"),b=a("Info"),V=a("Table"),h=a("el-row"),D=a("Drawer"),l=a("DrawerMenus");return y(),A("div",null,[t(h,{gutter:20},{default:s(()=>[t(_,{span:7},{default:s(()=>[t(m,null,{header:s(()=>[M("div",q,[z,t(p,{type:"primary",onClick:e.handleOpenAdd},{default:s(()=>[F]),_:1},8,["onClick"])])]),default:s(()=>[e.treeData.length?(y(),L(i,{key:0,"default-expand-all":"","check-on-click-node":"","highlight-current":"","expand-on-click-node":!1,"current-node-key":e.currentNodeKey.id,"node-key":"id",data:e.treeData,props:e.treeDefaultProps,onNodeClick:e.handleNodeClick},null,8,["current-node-key","data","props","onNodeClick"])):R("",!0)]),_:1})]),_:1}),t(_,{span:17},{default:s(()=>[t(b,{info:e.currentNodeKey,onShowEdit:e.onOpenEdit,onShowEditMenus:e.onOpenMenus},null,8,["info","onShowEdit","onShowEditMenus"]),t(V,{"list-data":e.currentListData},null,8,["list-data"])]),_:1})]),_:1}),t(D,{modelValue:e.drawerVisible,"onUpdate:modelValue":n[0]||(n[0]=r=>e.drawerVisible=r),"form-data":e.drawerInfo,onGetView:e.onGetView},null,8,["modelValue","form-data","onGetView"]),t(l,{modelValue:e.drawerMenusVisible,"onUpdate:modelValue":n[1]||(n[1]=r=>e.drawerMenusVisible=r),"form-data":e.drawerInfo},null,8,["modelValue","form-data"])])}var oe=S(U,[["render",H]]);export{oe as default};
